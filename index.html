<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Project 2 - The truth is out there </title>
   <link rel="stylesheet" href="css/leaflet.css"/>
   <link rel="stylesheet" href="css/timeline.css"/>
   <link rel="stylesheet" href="css/styles.css"/>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
   <!-- Information Button -->
   <div class="info-button" onclick="openModal()">
      <i class="fa fa-info"></i> <!-- Adjust the class based on your icon library -->
  </div>

  <!-- Modal Content -->
  <div id="myModal" class="modal">
      <div class="modal-content">
          <!-- Close button -->
          <span class="close" onclick="closeModal()">&times;</span>
          <h2>How To Use This Application</h2>
          <ol>
            <li>
               <h2>Filtering Data</h2>
               <p>
                  The application allows you to filter UFO sighting data based on different attributes such as month, year, UFO shape, and time of day. Choose the attribute you're interested in from the dropdown menu and enter any specific keywords in the search bar to narrow down the data.
               </p>
            </li>
            <li>
               <h2>View Options</h2>
               <p>
                  You can switch between different views using the "Toggle Map" button. This lets you switch between a map view and other data representations, providing flexibility in how you analyze the information.
               </p>
            </li>
            <li>
               <h2>Brush Map Feature</h2>
               <p>
                  Enabling the "Brush Map" option allows you to interactively select and refine areas on the map, making it easier to focus on specific regions or clusters of UFO sightings.
               </p>
            </li>
            <li>
               <h2>Submitting and Resetting Filters</h2>
               <p>
                  After setting your filters, click the "Submit" button to apply them and update the displayed data accordingly. If you want to start over or remove all filters, use the "Reset" button to revert to the default view.
               </p>
            </li>
            <li>
               <h2>Interacting with Legends</h2>
               <p>
                  The legend section provides additional context about the data, such as different UFO shapes, months, years, and time of day categories. You can click on legend items to toggle their visibility, helping you focus on specific data categories or patterns.
               </p>
            </li>
            <li>
               <h2>Exploring Graphs</h2>
               <p>
                  Clicking the "Show Graphs" button opens a modal window with various graphs and visualizations. These graphs provide deeper insights into UFO sightings, including trends over months, distribution of UFO shapes, types of encounters reported, and time distribution of sightings.
               </p>
            </li>
            <li>
               <h2>Resetting Timeline</h2>
               <p>
                  If you're using the timeline feature to track sightings over time, there's a dedicated "Reset" button within the timeline section to reset the timeline view to its initial state.
               </p>
            </li>
         </ol>
      </div>
  </div>
   <header>
      <h1 id="dashboardTitle">National UFO Reporting Dashboard</h1>
      <h2><u>THE TRUTH IS OUT THERE</u></h2>
   </header>
   
   <div id ="mainContent">
      <div id="row1">
         <div id="column1">
            <h2>Let's Filter Out</h2>
        
            <form id="Sub_column1">
                  <div class="row">
                    <div class="col-25">
                        <label for="filter">Select Attribute:</label>
                    </div>
        
                    <div class="col-75">
                        <select id="filter">
                            <option value="month">Month</option>
                            <option value="year">Year</option>
                            <option value="ufo_shape">UFO Shape</option>
                            <option value="time_day">Time of Day</option>
                        </select>
                    </div>
                </div>
        
                <div class="row">
                    <div class="col-75">
                        <input id="txtWordSearch" placeholder="Search for a Word(s)"/>
                    </div>
                    <div class="col-25">
                        <button class="button" id="ClearBtn" type="button">Clear</button>
                    </div>
                </div>
        
                <div class="row">
                    <div class="col-25">
                        <label for="toggleBtn" >Switch View:</label>
                    </div>
                    <div class="col-75">
                        <button class="button" type='button' id="toggleBtn">Toggle Map</button>
                    </div>
                </div>
                
                <div class="row">
                  <div style="display: flex; margin-bottom: 5px;">
                     <label for="chkBrushMap" style="white-space: nowrap; font-size: 20px; margin-left: 50px;">Brush Map: </label>
                     <input type="checkbox" id="chkBrushMap">
                  </div>
                </div>
        
                <div class="row4btn">
                    <div class="col-50">
                        <button class="button" id="btnSubmitFilters" type="button">Submit</button>
                    </div>
                    <div class="col-50">
                        <button class="button" id="resetBtn" type="button">Reset</button>
                    </div>
                </div>
            </form>
        </div>

         <div id="column2">
            <div id="map"></div>
         </div>
      
      <div id="column3">   
         <div id="legend" >
            <h2 style="text-align: center; align-items: center; margin-bottom: -10px; margin-top: -15px;">Legend</h2>
            <ul class="legend">
               <li style="display: none" class="legend-btn ufo_shape" ufo_shape="changing"><span class="legend-symbol"></span> Changing</li>
               <li style="display: none" class="legend-btn ufo_shape" ufo_shape="chevron"><span class="legend-symbol"></span> Chevron</li>
               <li style="display: none" class="legend-btn ufo_shape" ufo_shape="cigar"><span class="legend-symbol"></span>  Cigar</li>
               <li style="display: none" class="legend-btn ufo_shape" ufo_shape="circle"><span class="legend-symbol"></span> Circle</li>
               <li style="display: none" class="legend-btn ufo_shape" ufo_shape="cylinder"><span class="legend-symbol"></span> Cylinder</li>
               <li style="display: none" class="legend-btn ufo_shape" ufo_shape="diamond"><span class="legend-symbol"></span> Diamond</li>
               <li style="display: none" class="legend-btn ufo_shape" ufo_shape="disk"><span class="legend-symbol"></span> Disk</li>
               <li class="legend-btn month" month="1"><span class="legend-symbol"></span> January</li>
               <li class="legend-btn month" month="2"><span class="legend-symbol"></span> February</li>
               <li class="legend-btn month" month="3"><span class="legend-symbol"></span> March</li>
               <li class="legend-btn month" month="4"><span class="legend-symbol"></span> April</li>
               <li class="legend-btn month" month="5"><span class="legend-symbol"></span> May</li>
               <li class="legend-btn month" month="6"><span class="legend-symbol"></span> June</li>
               <li class="legend-btn month" month="7"><span class="legend-symbol"></span> July</li>
               <li class="legend-btn month" month="8"><span class="legend-symbol"></span> August</li>
               <li class="legend-btn month" month="9"><span class="legend-symbol"></span> September</li>
               <li class="legend-btn month" month="10"><span class="legend-symbol"></span> October</li>
               <li class="legend-btn month" month="11"><span class="legend-symbol"></span> November</li>
               <li class="legend-btn month" month="12"><span class="legend-symbol"></span> December</li>
               <li style="display: none" class="legend-btn year" year="1950"><span class="legend-symbol"></span> 1950s</li>
               <li style="display: none" class="legend-btn year" year="1960"><span class="legend-symbol"></span> 1960s</li>
               <li style="display: none" class="legend-btn year" year="1970"><span class="legend-symbol"></span> 1970s</li>
               <li style="display: none" class="legend-btn year" year="1980"><span class="legend-symbol"></span> 1980s</li>
               <li style="display: none" class="legend-btn year" year="1990"><span class="legend-symbol"></span> 1990s</li>
               <li style="display: none" class="legend-btn year" year="2000"><span class="legend-symbol"></span> 2000s</li>
               <li style="display: none" class="legend-btn year" year="2010"><span class="legend-symbol"></span> 2010s</li>
               <li style="display: none" class="legend-btn time_day" time_day="6:00"><span class="legend-symbol"></span> Morning</li>
               <li style="display: none" class="legend-btn time_day" time_day="12:00"><span class="legend-symbol"></span> Afternoon</li>
               <li style="display: none" class="legend-btn time_day" time_day="18:00"><span class="legend-symbol"></span> Evening</li>
               <li style="display: none" class="legend-btn time_day" time_day="0:00"><span class="legend-symbol"></span> Night</li>
            </ul> 
         </div> 
      </div>
         
      </div>   <!-- row1 div -->
      
      
      
      <div id ="row2">
         <svg id="timeline"></svg>
         <button class ="button" id="btnResetTimeline" type="button">Reset</button>
         <button class="button" id="showGraphsBtn" type="button">Show Graphs</button>
         <div id="graphContainer" class="modal">
            <div class="modal-content">
               <span class="close" onclick="closeGraphs()">&times;</span>
               <div id="graphs" style="display: flex; flex-wrap: wrap;">
                  <div style="flex: 1; margin-right: 10px;">
                     <div id="month-graph"></div>
                  </div>
                  <div style="flex: 1; margin-right: 10px;">
                     <div id="ufo-shape-graph"></div>
                  </div>
                  <div style="flex: 1; margin-right: 10px;">
                     <div id="encounter-graph"></div>
                  </div>
                  <div style="flex: 1;">
                     <div id="time-graph"></div>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <div id="tooltip"></div>
      <div id="timeline-tooltip"></div>
   </div>   <!-- mainContent div -->

   <!--
      JavaScript Files (NOTE: Make sure the 'main.js' is the last file. Order of imports matters).
      Library files (D3 & leaflet) first, followed by custom JS classes.
   -->
   <script src="js/d3.v6.min.js" type="text/javascript"></script>
   <script src="js/leaflet.js" type="text/javascript"></script>
   <script src="js/bargraphvisuals.js" type="text/javascript"></script>
   <script src="js/datastore.js" type="text/javascript"></script>
   <script src="js/csvdataparser.js" type="text/javascript"></script>
   <script src="js/leafletMap.js" type="text/javascript"></script>
   <script src="js/timeline.js" type="text/javascript"></script>
   <script src="js/callbacks.js" type="text/javascript"></script>
   <script src="js/main.js" type="text/javascript"></script>
   <script>
      // Function to open the modal
      function openModal() {
          var modal = document.getElementById("myModal");
          modal.style.display = "block";
      }

      // Function to close the modal
      function closeModal() {
          var modal = document.getElementById("myModal");
          modal.style.display = "none";
      }
  </script>
  <script>
   // Function to open the graph container
   function openGraphs() {
      var graphContainer = document.getElementById("graphContainer");
      graphContainer.style.display = "block";
   }

   // Function to close the graph container
   function closeGraphs() {
      var graphContainer = document.getElementById("graphContainer");
      graphContainer.style.display = "none";
   }

   // Add click event listener to the button
   var showGraphsBtn = document.getElementById("showGraphsBtn");
   showGraphsBtn.addEventListener("click", openGraphs);
</script>
<script>
   // Add click event listener to each legend button
   var legendBtns = document.querySelectorAll('.legend-btn');
   legendBtns.forEach(function(btn) {
     btn.addEventListener('click', function() {
       this.classList.toggle('selected');
     });
   });
</script>
</body>
</html>